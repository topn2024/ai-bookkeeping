# -*- coding: utf-8 -*-
"""
ä¿®æ­£ç¬¬2ç« äº§å“å®šä½ä¸Žæ„¿æ™¯
æ ¸å¿ƒç†å¿µï¼šåŸºäºŽé’±é¾„å’Œé›¶åŸºé¢„ç®—çš„å…¨æ™ºèƒ½åŒ–è´¢åŠ¡ä¼™ä¼´ï¼Œå¸®åŠ©ç”¨æˆ·åŸ¹å…»è‰¯å¥½é‡‘èžä¹ æƒ¯
"""

def main():
    filepath = 'd:/code/ai-bookkeeping/docs/design/app_v2_design.md'

    with open(filepath, 'r', encoding='utf-8') as f:
        content = f.read()

    changes = 0

    # ========== ä¿®æ­£2.0.1 äº§å“å®šä½è®¾è®¡åŽŸåˆ™çŸ©é˜µ ==========
    old_matrix = '''#### 2.0.1 äº§å“å®šä½è®¾è®¡åŽŸåˆ™çŸ©é˜µ

| è®¾è®¡åŽŸåˆ™ | åœ¨äº§å“å®šä½ä¸­çš„ä½“çŽ° | å…·ä½“æŽªæ–½ |
|----------|-------------------|----------|
| æ‡’äººä¼˜å…ˆ | é›¶å­¦ä¹ æˆæœ¬çš„äº§å“ä½“éªŒ | è¯­éŸ³è®°è´¦ã€æ™ºèƒ½è¯†åˆ«ã€è‡ªåŠ¨åˆ†ç±» |
| ä¼™ä¼´åŒ– | æœ‰æ¸©åº¦çš„è´¢åŠ¡åŠ©æ‰‹å®šä½ | é¼“åŠ±å¼åé¦ˆã€æˆå°±ç³»ç»Ÿã€æƒ…æ„ŸåŒ–æ–‡æ¡ˆ |
| æ— éšœç¢ | æ™®æƒ é‡‘èžè®°è´¦å·¥å…· | å¤šæ¨¡æ€äº¤äº’ã€æ— éšœç¢æ”¯æŒã€è€å¹´æ¨¡å¼ |'''

    new_matrix = '''#### 2.0.1 äº§å“å®šä½è®¾è®¡åŽŸåˆ™çŸ©é˜µ

| è®¾è®¡åŽŸåˆ™ | åœ¨äº§å“å®šä½ä¸­çš„ä½“çŽ° | å…·ä½“æŽªæ–½ |
|----------|-------------------|----------|
| é’±é¾„æ´žå¯Ÿ | è®©ç”¨æˆ·ç†è§£æ¯ä¸€åˆ†é’±çš„æ—¶é—´ä»·å€¼ | FIFOé’±é¾„è®¡ç®—ã€å¯è§†åŒ–å±•ç¤ºã€ä¼˜åŒ–å»ºè®® |
| é›¶åŸºé¢„ç®— | è®©æ¯ä¸€åˆ†é’±éƒ½æœ‰æ˜Žç¡®ç”¨é€” | æ”¶å…¥å…¨åˆ†é…ã€å°é‡‘åº“éš”ç¦»ã€é¢„ç®—ç»“è½¬ |
| ä¹ æƒ¯åŸ¹å…» | å¸®åŠ©ç”¨æˆ·å»ºç«‹å¥åº·è´¢åŠ¡ä¹ æƒ¯ | æ‰“å¡æ¿€åŠ±ã€è¿žç»­è®°å½•ã€æˆå°±ä½“ç³» |
| æ™ºèƒ½ä¼™ä¼´ | æœ‰æ¸©åº¦çš„å…¨æ™ºèƒ½åŒ–è´¢åŠ¡ä¼™ä¼´ | AIè¯†åˆ«ã€ä¸»åŠ¨æ´žå¯Ÿã€æƒ…æ„ŸåŒ–äº¤äº’ |
| æžè‡´ä½“éªŒ | é›¶é—¨æ§›ã€é›¶å­¦ä¹ æˆæœ¬ | è¯­éŸ³ä¼˜å…ˆã€æ™ºèƒ½é»˜è®¤ã€ä¸€é”®æ“ä½œ |'''

    if old_matrix in content:
        content = content.replace(old_matrix, new_matrix)
        print("OK: Updated 2.0.1 äº§å“å®šä½è®¾è®¡åŽŸåˆ™çŸ©é˜µ")
        changes += 1

    # ========== ä¿®æ­£2.0.2 è®¾è®¡ç†å¿µå›¾ ==========
    old_diagram = '''#### 2.0.2 è®¾è®¡ç†å¿µ

```
äº§å“å®šä½æ ¸å¿ƒç†å¿µï¼šè®©è®°è´¦æˆä¸ºä¸€ç§è½»æ¾çš„ä¹ æƒ¯

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ï¿½ï¿½â”€â”€â”
â”‚                    AIæ™ºèƒ½è®°è´¦2.0å®šä½                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚   â”‚   è¯­éŸ³ä¼˜å…ˆ   â”‚  â”‚   æ™ºèƒ½ç†è§£   â”‚  â”‚   ä¸»åŠ¨æœåŠ¡   â”‚        â”‚
â”‚   â”‚  Voice-First â”‚  â”‚ AI-Powered  â”‚  â”‚  Proactive  â”‚        â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚          â”‚                â”‚                â”‚                â”‚
â”‚          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â”‚                           â”‚                                 â”‚
â”‚                           â–¼                                 â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚
â”‚              â”‚      ç”¨æˆ·ä»·å€¼ä¸­å¿ƒ        â”‚                    â”‚
â”‚              â”‚  çœæ—¶ Â· çœå¿ƒ Â· çœåŠ›      â”‚                    â”‚
â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚
â”‚                           â”‚                                 â”‚
â”‚          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚          â”‚                â”‚                â”‚                â”‚
â”‚          â–¼                â–¼                â–¼                â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚   â”‚  ä¸ªäººè®°è´¦    â”‚  â”‚  å®¶åº­å…±äº«    â”‚  â”‚  è´¢åŠ¡æ´žå¯Ÿ    â”‚        â”‚
â”‚   â”‚   åœºæ™¯       â”‚  â”‚   åœºæ™¯       â”‚  â”‚   åœºæ™¯       â”‚        â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```'''

    new_diagram = '''#### 2.0.2 è®¾è®¡ç†å¿µ

```
äº§å“æ„¿æ™¯ï¼šæ‚¨çš„æ™ºèƒ½è´¢åŠ¡ä¼™ä¼´ï¼Œè®©æ¯ä¸€åˆ†é’±éƒ½æœ‰æ„ä¹‰

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      AIæ™ºèƒ½è®°è´¦2.0 - æ‚¨çš„æ™ºèƒ½è´¢åŠ¡ä¼™ä¼´                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                          â”‚
â”‚                    â”‚       æ ¸å¿ƒå·®å¼‚åŒ–èƒ½åŠ›         â”‚                          â”‚
â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                          â”‚
â”‚                                   â”‚                                         â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚
â”‚              â”‚                                         â”‚                    â”‚
â”‚              â–¼                                         â–¼                    â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚   â”‚      é’±é¾„åˆ†æž        â”‚                   â”‚      é›¶åŸºé¢„ç®—        â”‚        â”‚
â”‚   â”‚    Money Age        â”‚                   â”‚   Zero-Based Budget â”‚        â”‚
â”‚   â”‚                     â”‚                   â”‚                     â”‚        â”‚
â”‚   â”‚  Â·ç†è§£é’±çš„æ—¶é—´ä»·å€¼   â”‚                   â”‚  Â·æ¯åˆ†é’±éƒ½æœ‰åŽ»å¤„     â”‚        â”‚
â”‚   â”‚  Â·FIFOå…ˆè¿›å…ˆå‡º      â”‚                   â”‚  Â·å°é‡‘åº“èµ„é‡‘éš”ç¦»     â”‚        â”‚
â”‚   â”‚  Â·èŠ±çš„æ˜¯å¤šä¹…å‰çš„é’±   â”‚                   â”‚  Â·æ”¶å…¥100%åˆ†é…      â”‚        â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚              â”‚                                         â”‚                    â”‚
â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚
â”‚                                   â”‚                                         â”‚
â”‚                                   â–¼                                         â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                          â”‚
â”‚                    â”‚     å…¨æ™ºèƒ½åŒ–è´¢åŠ¡ä¼™ä¼´         â”‚                          â”‚
â”‚                    â”‚  æžè‡´ä½“éªŒ Â· ä¹ æƒ¯åŸ¹å…» Â· æ´žå¯Ÿ  â”‚                          â”‚
â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                          â”‚
â”‚                                   â”‚                                         â”‚
â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚         â”‚                         â”‚                         â”‚               â”‚
â”‚         â–¼                         â–¼                         â–¼               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚  æžè‡´ä½“éªŒ    â”‚          â”‚  ä¹ æƒ¯åŸ¹å…»    â”‚          â”‚  æ™ºèƒ½æ´žå¯Ÿ    â”‚         â”‚
â”‚  â”‚             â”‚          â”‚             â”‚          â”‚             â”‚         â”‚
â”‚  â”‚ Â·è¯­éŸ³è®°è´¦   â”‚          â”‚ Â·æ‰“å¡æ¿€åŠ±   â”‚          â”‚ Â·AIåˆ†æž     â”‚         â”‚
â”‚  â”‚ Â·å›¾åƒè¯†åˆ«   â”‚          â”‚ Â·è¿žç»­è®°å½•   â”‚          â”‚ Â·è¶‹åŠ¿é¢„æµ‹   â”‚         â”‚
â”‚  â”‚ Â·æ™ºèƒ½åˆ†ç±»   â”‚          â”‚ Â·æˆå°±ä½“ç³»   â”‚          â”‚ Â·ä¸ªæ€§å»ºè®®   â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                                                                             â”‚
â”‚                    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                             â”‚
â”‚                            æ‰©å±•æœåŠ¡                                          â”‚
â”‚              å®¶åº­è´¦æœ¬ Â· ä½ç½®æ™ºèƒ½ Â· æ•°æ®åŒæ­¥ Â· æŠ¥è¡¨å¯¼å‡º                         â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€ï¿½ï¿½â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```'''

    if old_diagram in content:
        content = content.replace(old_diagram, new_diagram)
        print("OK: Updated 2.0.2 è®¾è®¡ç†å¿µå›¾")
        changes += 1

    # ========== ä¿®æ­£2.1 äº§å“å®šä½ ==========
    old_21 = '''### 2.1 äº§å“å®šä½

**"æ‚¨çš„æ™ºèƒ½è´¢åŠ¡ç®¡å®¶"**

AIæ™ºèƒ½è®°è´¦ 2.0 å®šä½ä¸ºä¸€æ¬¾é¢å‘ä¸ªäººå’Œå®¶åº­çš„æ™ºèƒ½è´¢åŠ¡ç®¡ç†åº”ç”¨ï¼Œé€šè¿‡AIæŠ€æœ¯é™ä½Žè®°è´¦é—¨æ§›ï¼Œé€šè¿‡æ•°æ®åˆ†æžå¸®åŠ©ç”¨æˆ·å»ºç«‹å¥åº·çš„è´¢åŠ¡ä¹ æƒ¯ã€‚'''

    new_21 = '''### 2.1 äº§å“å®šä½

**"æ‚¨çš„æ™ºèƒ½è´¢åŠ¡ä¼™ä¼´ â€”â€” è®©æ¯ä¸€åˆ†é’±éƒ½æœ‰æ„ä¹‰"**

AIæ™ºèƒ½è®°è´¦ 2.0 æ˜¯ä¸€æ¬¾**ä»¥é’±é¾„åˆ†æžå’Œé›¶åŸºé¢„ç®—ä¸ºæ ¸å¿ƒ**çš„å…¨æ™ºèƒ½åŒ–è´¢åŠ¡ä¼™ä¼´åº”ç”¨ã€‚åŒºåˆ«äºŽä¼ ç»Ÿè®°è´¦å·¥å…·çš„"è®°å½•"å±žæ€§ï¼Œæˆ‘ä»¬è‡´åŠ›äºŽï¼š

1. **è®©ç”¨æˆ·ç†è§£é’±çš„æ—¶é—´ä»·å€¼** â€”â€” é€šè¿‡é’±é¾„åˆ†æžï¼Œç”¨æˆ·çŸ¥é“ä»Šå¤©èŠ±çš„é’±æ˜¯å¤šä¹…ä¹‹å‰èµšçš„
2. **è®©æ¯ä¸€åˆ†é’±éƒ½æœ‰æ˜Žç¡®ç”¨é€”** â€”â€” é€šè¿‡é›¶åŸºé¢„ç®—ï¼Œæ”¶å…¥è¢«100%åˆ†é…åˆ°å„ä¸ªå°é‡‘åº“
3. **åŸ¹å…»å¥åº·çš„è´¢åŠ¡ä¹ æƒ¯** â€”â€” é€šè¿‡ä¹ æƒ¯åŸ¹å…»ç³»ç»Ÿï¼Œè®©è®°è´¦æˆä¸ºè‡ªç„¶è€Œç„¶çš„æ—¥å¸¸

æˆ‘ä»¬ä¸åªæ˜¯ä¸€ä¸ªè®°è´¦å·¥å…·ï¼Œè€Œæ˜¯ä¸€ä¸ª**æ‡‚ä½ çš„è´¢åŠ¡ä¼™ä¼´**â€”â€”æ‹¥æœ‰æžè‡´çš„äº¤äº’ä½“éªŒï¿½ï¿½ï¿½å…¨AIæ™ºèƒ½åŒ–çš„è¯†åˆ«ä¸Žæ´žå¯Ÿï¼Œå¸®åŠ©ç”¨æˆ·åœ¨è´¢åŠ¡ç®¡ç†çš„é“è·¯ä¸Šä¸æ–­æˆé•¿ã€‚'''

    if old_21 in content:
        content = content.replace(old_21, new_21)
        print("OK: Updated 2.1 äº§å“å®šä½")
        changes += 1

    # ========== ä¿®æ­£2.3 æ ¸å¿ƒä»·å€¼ä¸»å¼  ==========
    old_23 = '''### 2.3 æ ¸å¿ƒä»·å€¼ä¸»å¼ 

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                â”‚
â”‚   ðŸ“± ä¸€é”®è®°è´¦          ðŸ¤– AIè‡ªåŠ¨è¯†åˆ«         ðŸ“Š æ™ºèƒ½åˆ†æž       â”‚
â”‚   è¯­éŸ³/æ‹ç…§/æ‰‹åŠ¨       å°ç¥¨ã€è´¦å•è‡ªåŠ¨è§£æž     é’±é¾„ã€é¢„ç®—ã€è¶‹åŠ¿  â”‚
â”‚                                                                â”‚
â”‚   ðŸ’° é›¶åŸºé¢„ç®—          ðŸŽ¯ è´¢åŠ¡ç›®æ ‡           ðŸ”„ æ•°æ®åŒæ­¥       â”‚
â”‚   æ¯åˆ†é’±éƒ½æœ‰åŽ»å¤„       å‚¨è“„ã€è¿˜å€ºã€æŠ•èµ„       å¤šè®¾å¤‡æ— ç¼åˆ‡æ¢    â”‚
â”‚                                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```'''

    new_23 = '''### 2.3 æ ¸å¿ƒä»·å€¼ä¸»å¼ 

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ï¿½ï¿½â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           æ ¸å¿ƒä»·å€¼ä¸»å¼                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•— â”‚
â”‚  â•‘                        æ ¸å¿ƒå·®å¼‚åŒ–åŠŸèƒ½                                   â•‘ â”‚
â”‚  â•‘                                                                       â•‘ â”‚
â”‚  â•‘   â³ é’±é¾„åˆ†æž                           ðŸ’° é›¶åŸºé¢„ç®—                    â•‘ â”‚
â”‚  â•‘   ç†è§£é’±çš„æ—¶é—´ä»·å€¼                      è®©æ¯åˆ†é’±éƒ½æœ‰åŽ»å¤„                â•‘ â”‚
â”‚  â•‘   èŠ±çš„æ˜¯å¤šä¹…å‰èµšçš„é’±                    æ”¶å…¥100%åˆ†é…åˆ°å°é‡‘åº“            â•‘ â”‚
â”‚  â•‘                                                                       â•‘ â”‚
â”‚  â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•ï¿½ï¿½ï¿½â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚  â”‚   ðŸŽ¯ ä¹ æƒ¯åŸ¹å…»    â”‚  â”‚   ðŸ¤– æ™ºèƒ½ä¼™ä¼´    â”‚  â”‚   âœ¨ æžè‡´ä½“éªŒ    â”‚             â”‚
â”‚  â”‚                 â”‚  â”‚                 â”‚  â”‚                 â”‚             â”‚
â”‚  â”‚  Â·æ‰“å¡æ¿€åŠ±      â”‚  â”‚  Â·è¯­éŸ³/å›¾åƒè¯†åˆ«  â”‚  â”‚  Â·ä¸€é”®è®°è´¦      â”‚             â”‚
â”‚  â”‚  Â·è¿žç»­è®°å½•æˆå°±  â”‚  â”‚  Â·æ™ºèƒ½åˆ†ç±»æŽ¨è  â”‚  â”‚  Â·é›¶å­¦ä¹ æˆæœ¬    â”‚             â”‚
â”‚  â”‚  Â·è´¢åŠ¡ä¹ æƒ¯å…»æˆ  â”‚  â”‚  Â·ä¸ªæ€§åŒ–æ´žå¯Ÿ    â”‚  â”‚  Â·æµç•…äº¤äº’      â”‚             â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                          æ‰©å±•æœåŠ¡èƒ½åŠ›                                â”‚   â”‚
â”‚  â”‚   ðŸ‘¨â€ðŸ‘©â€ðŸ‘§â€ðŸ‘¦ å®¶åº­è´¦æœ¬    ðŸ“ ä½ç½®æ™ºèƒ½    ðŸ”„ æ•°æ®åŒæ­¥    ðŸ“Š æŠ¥è¡¨å¯¼å‡º           â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**æ ¸å¿ƒå·®å¼‚åŒ–**ï¼šé’±é¾„åˆ†æž + é›¶åŸºé¢„ç®— æ˜¯æˆ‘ä»¬åŒºåˆ«äºŽå…¶ä»–è®°è´¦åº”ç”¨çš„æ ¸å¿ƒç«žäº‰åŠ›ï¼Œä¹Ÿæ˜¯äº§å“ä»·å€¼çš„æ ¹åŸºã€‚

**æ”¯æ’‘èƒ½åŠ›**ï¼šä¹ æƒ¯åŸ¹å…»ã€æ™ºèƒ½ä¼™ä¼´ã€æžè‡´ä½“éªŒå…±åŒæ”¯æ’‘æ ¸å¿ƒåŠŸèƒ½çš„ç”¨æˆ·ä»·å€¼å®žçŽ°ã€‚

**æ‰©å±•æœåŠ¡**ï¼šå®¶åº­è´¦æœ¬ã€ä½ç½®æ™ºèƒ½ç­‰æ˜¯ä¸ºä¸åŒåœºæ™¯ç”¨æˆ·æä¾›çš„å¢žå€¼æœåŠ¡ã€‚'''

    if old_23 in content:
        content = content.replace(old_23, new_23)
        print("OK: Updated 2.3 æ ¸å¿ƒä»·å€¼ä¸»å¼ ")
        changes += 1

    # ========== ä¿®æ­£2.4 ç«žå“å·®å¼‚åŒ– ==========
    old_24 = '''### 2.4 ç«žå“å·®å¼‚åŒ–

| åŠŸèƒ½ç»´åº¦ | ä¼ ç»Ÿè®°è´¦APP | AIæ™ºèƒ½è®°è´¦ 2.0 |
|----------|------------|----------------|
| è®°è´¦æ–¹å¼ | æ‰‹åŠ¨è¾“å…¥ | AIè¯­éŸ³/å›¾åƒè¯†åˆ« + æ‰‹åŠ¨ |
| æ•°æ®åˆ†æž | ç®€å•å›¾è¡¨ | é’±é¾„åˆ†æž + æ™ºèƒ½æ´žå¯Ÿ |
| é¢„ç®—ç®¡ç† | å›ºå®šé¢„ç®— | é›¶åŸºé¢„ç®— + å°é‡‘åº“ |
| æ•°æ®å¯¼å…¥ | æ‰‹åŠ¨å½•å…¥ | æ™ºèƒ½è§£æž + è‡ªåŠ¨åŽ»é‡ |
| äº¤äº’ä½“éªŒ | é™æ€é¡µé¢ | æ•°æ®è”åŠ¨ + ä¸‹é’»æŽ¢ç´¢ |'''

    new_24 = '''### 2.4 ç«žå“å·®å¼‚åŒ–

#### 2.4.1 æ ¸å¿ƒå·®å¼‚åŒ–å¯¹æ¯”

| èƒ½åŠ›ç»´åº¦ | ä¼ ç»Ÿè®°è´¦APP | ä¸»æµç«žå“ | AIæ™ºèƒ½è®°è´¦ 2.0 |
|----------|------------|----------|----------------|
| **é’±é¾„åˆ†æž** | âŒ æ—  | âŒ æ—  | âœ… FIFOé’±é¾„è®¡ç®—ï¼Œç†è§£æ—¶é—´ä»·å€¼ |
| **é›¶åŸºé¢„ç®—** | âŒ å›ºå®šé¢„ç®— | â–³ ç®€å•é¢„ç®— | âœ… æ”¶å…¥100%åˆ†é…ï¼Œå°é‡‘åº“éš”ç¦» |
| **ä¹ æƒ¯åŸ¹å…»** | âŒ æ—  | â–³ ç®€å•æé†’ | âœ… æ‰“å¡Â·è¿žç»­Â·æˆå°±Â·æŒ‘æˆ˜ |
| **æ™ºèƒ½è¯†åˆ«** | âŒ æ‰‹åŠ¨ | â–³ åŸºç¡€OCR | âœ… è¯­éŸ³+å›¾åƒ+è¯­ä¹‰ç†è§£ |
| **è´¢åŠ¡æ´žå¯Ÿ** | ç®€å•å›¾è¡¨ | åŸºç¡€æŠ¥è¡¨ | AIé©±åŠ¨çš„ä¸ªæ€§åŒ–æ´žå¯Ÿå»ºè®® |

#### 2.4.2 äº§å“å®šä½å·®å¼‚

| å®šä½ç»´åº¦ | ä¼ ç»Ÿè®°è´¦APP | AIæ™ºèƒ½è®°è´¦ 2.0 |
|----------|------------|----------------|
| äº§å“å±žæ€§ | è®°å½•å·¥å…· | æ™ºèƒ½è´¢åŠ¡ä¼™ä¼´ |
| æ ¸å¿ƒä»·å€¼ | è®°å½•æµæ°´ | ç†è§£é’±çš„ä»·å€¼ï¼ŒåŸ¹å…»å¥½ä¹ æƒ¯ |
| äº¤äº’æ–¹å¼ | è¡¨å•å¡«å†™ | è¯­éŸ³ä¼˜å…ˆï¼Œæžè‡´ä½“éªŒ |
| ç”¨æˆ·å…³ç³» | å·¥å…·ä½¿ç”¨ | ä¼™ä¼´é™ªä¼´ |
| æ•°æ®ä»·å€¼ | ç»Ÿè®¡æ±‡æ€» | æ´žå¯ŸæŒ‡å¯¼è¡ŒåŠ¨ |'''

    if old_24 in content:
        content = content.replace(old_24, new_24)
        print("OK: Updated 2.4 ç«žå“å·®å¼‚åŒ–")
        changes += 1

    # å†™å…¥æ–‡ä»¶
    if changes > 0:
        with open(filepath, 'w', encoding='utf-8') as f:
            f.write(content)
        print(f"\n===== Chapter 2 vision fix done, {changes} changes =====")
    else:
        print("\nNo changes needed")

    return changes

if __name__ == '__main__':
    main()
