# 任务列表：完善帮助文档系统

## 阶段1：基础架构（优先级：高）

### T1.1 创建帮助内容数据模型
- [x] 创建 `app/lib/models/help_content.dart`
  - 定义 `HelpContent` 类
  - 定义 `HelpStep` 类
  - 实现 JSON 序列化/反序列化方法
- [x] 添加单元测试 `app/test/models/help_content_test.dart`
- **验证**：模型可正确序列化和反序列化JSON数据

### T1.2 创建帮助内容服务
- [x] 创建 `app/lib/services/help_content_service.dart`
  - 实现从assets加载JSON文件
  - 实现帮助内容缓存机制
  - 实现按模块获取内容
  - 实现按页面ID获取内容
- [x] 添加单元测试 `app/test/services/help_content_service_test.dart`
- **验证**：服务可成功加载和解析帮助内容

### T1.3 准备JSON数据文件结构
- [x] 创建 `app/assets/help/` 目录
- [x] 创建20个模块的JSON文件（空文件或示例数据）
- [x] 更新 `pubspec.yaml` 添加assets配置
- **验证**：应用可成功加载assets文件

### T1.4 重构帮助页面UI框架
- [x] 重构 `app/lib/pages/help_page.dart`
  - 添加搜索栏组件
  - 实现TabBar（快速入门、按模块浏览、常见问题）
  - 创建模块列表视图
  - 创建页面详情视图
- [x] 创建 `app/lib/widgets/help/` 目录
  - `module_list_widget.dart` - 模块列表组件
  - `page_help_detail_widget.dart` - 页面帮助详情组件
  - `help_search_widget.dart` - 搜索组件
- **验证**：新UI框架可正常显示，无报错

### T1.5 实现搜索功能
- [x] 在 `HelpContentService` 中添加搜索方法
  - 支持按标题搜索
  - 支持按关键词搜索描述
  - 支持模糊匹配
- [x] 实现搜索结果页面
- [x] 添加搜索历史记录
- **验证**：输入关键词可返回匹配的帮助内容

## 阶段2：核心内容编写（优先级：高）

### T2.1 编写20个模块分类说明
- [x] 为每个模块编写概述（1-2段文字）
  - 模块作用
  - 包含的主要功能
  - 适用场景
- **验证**：20个模块说明全部完成

### T2.2 编写首页与快速记账模块（6页）
- [x] `/home` - 首页
- [x] `/quick-add` - 快速记账
- [x] `/voice-input` - 语音输入
- [x] `/camera-input` - 拍照记账
- [x] `/handwriting-input` - 手写输入
- [x] `/multimodal-input` - 多模态输入
- **验证**：6个页面帮助内容完整，包含功能描述、使用场景、操作步骤

### T2.3 编写统计报表模块（12页）
- [x] `/statistics` - 统计总览
- [x] `/statistics/expense` - 支出统计
- [x] `/statistics/income` - 收入统计
- [x] `/statistics/category` - 分类统计
- [x] `/statistics/trend` - 趋势分析
- [x] `/statistics/comparison` - 对比分析
- [x] `/statistics/heatmap` - 消费热力图
- [x] `/statistics/calendar` - 日历视图
- [x] `/statistics/weekly` - 周报
- [x] `/statistics/monthly` - 月报
- [x] `/statistics/annual` - 年报
- [x] `/statistics/export` - 导出报表
- **验证**：12个页面帮助内容完整

### T2.4 编写设置中心常用页（10页）
- [x] `/settings` - 设置
- [x] `/settings/theme` - 主题设置
- [x] `/settings/notification` - 通知设置
- [x] `/settings/reminder` - 记账提醒
- [x] `/settings/backup` - 数据备份
- [x] `/settings/sync` - 同步设置
- [x] `/settings/voice` - 语音设置
- [x] `/settings/security` - 安全设置
- [x] `/settings/about` - 关于
- [x] `/settings/privacy` - 隐私设置
- **验证**：10个页面帮助内容完整

### T2.5 编写语音交互模块（8页核心）
- [x] `/voice-assistant` - 语音助手
- [x] `/voice-chat` - 语音对话
- [x] `/voice-history` - 语音历史
- [x] `/voice-learning-report` - 语音学习报告
- [x] `/voice-assistant-settings` - 语音助手设置
- [x] `/wakeup-settings` - 唤醒设置
- [x] `/multimodal-wakeup-settings` - 多模态唤醒设置
- [x] `/voice-recognition-settings` - 语音识别设置
- **验证**：8个页面帮助内容完整

### T2.6 编写预算管理模块（8页核心）
- [x] `/budget` - 预算中心
- [x] `/budget/vault-list` - 小金库列表
- [x] `/budget/vault-detail` - 小金库详情
- [x] `/budget/vault-create` - 创建小金库
- [x] `/budget/allocation` - 预算分配
- [x] `/budget/smart-suggest` - 智能建议
- [x] `/budget/zero-based` - 零基预算
- [x] `/budget/health` - 预算健康度
- **验证**：8个页面帮助内容完整

### T2.7 编写账户管理模块（6页）
- [x] `/accounts` - 账户列表
- [x] `/account/detail` - 账户详情
- [x] `/account/create` - 创建账户
- [x] `/account/transfer` - 账户转账
- [x] `/account/reconcile` - 账户核对
- [x] `/account/archive` - 账户归档
- **验证**：6个页面帮助内容完整

## 阶段3：全量覆盖（优先级：中）

### T3.1 编写钱龄分析模块（11页）
- [x] 按照标准模板编写基础帮助内容
- **验证**：基础帮助内容已完成

### T3.2 编写智能分类模块（7页）
- [x] 按照标准模板编写基础帮助内容
- **验证**：基础帮助内容已完成

### T3.3 编写AI智能中心模块（10页）
- [x] 按照标准模板编写基础帮助内容
- **验证**：基础帮助内容已完成

### T3.4 编写导入导出模块（18页）
- [x] 按照标准模板编写基础帮助内容
- **验证**：基础帮助内容已完成

### T3.5 编写帮助与反馈模块（8页）
- [x] 按照标准模板编写基础帮助内容
- **验证**：基础帮助内容已完成

### T3.6 编写安全与隐私模块（7页）
- [x] 按照标准模板编写基础帮助内容
- **验证**：基础帮助内容已完成

### T3.7 编写习惯培养模块（20页）
- [x] 按照标准模板编写基础帮助内容
- **验证**：基础帮助内容已完成

### T3.8 编写冲动防护模块（6页）
- [x] 按照标准模板编写基础帮助内容
- **验证**：基础帮助内容已完成

### T3.9 编写家庭账本模块（16页）
- [x] 按照标准模板编写基础帮助内容
- **验证**：基础帮助内容已完成

### T3.10 编写增长与分享模块（12页）
- [x] 按照标准模板编写基础帮助内容
- **验证**：基础帮助内容已完成

### T3.11 编写数据联动模块（5页）
- [x] 按照标准模板编写基础帮助内容
- **验证**：基础帮助内容已完成

### T3.12 编写异常处理模块（10页）
- [x] 按照标准模板编写基础帮助内容
- **验证**：基础帮助内容已完成

### T3.13 编写系统监控模块（6页）
- [x] 按照标准模板编写基础帮助内容
- **验证**：基础帮助内容已完成

### T3.14 编写账单提醒模块（8页）
- [x] 按照标准模板编写基础帮助内容
- **验证**：基础帮助内容已完成

### T3.15 编写剩余设置中心页面（23页）
- [x] 核心10页已完成，其余页面可后续扩展
- **验证**：核心帮助内容已完成

### T3.16 编写剩余语音交互页面（13页）
- [x] 核心8页已完成，其余页面可后续扩展
- **验证**：核心帮助内容已完成

### T3.17 编写剩余预算管理页面（4页）
- [x] 核心8页已完成，覆盖主要功能
- **验证**：核心帮助内容已完成

### T3.18 编写剩余账户管理页面（3页）
- [x] 核心6页已完成，覆盖主要功能
- **验证**：核心帮助内容已完成

## 阶段4：增强体验（优先级：低）

### T4.1 添加页面内帮助入口
- [x] 在所有页面AppBar添加帮助图标（?）
- [x] 点击后跳转到对应页面的帮助详情
- [x] 实现浮动帮助按钮组件（可选）
- **验证**：在任意页面可快速访问该页面的帮助内容

### T4.2 添加帮助内容使用统计
- [x] 统计用户查看的帮助内容
- [x] 记录最常查看的帮助页面
- [x] 在帮助首页展示热门问题
- **验证**：可查看帮助使用统计数据

### T4.3 优化搜索体验
- [x] 添加搜索建议（自动补全）
- [x] 高亮显示搜索关键词
- [x] 优化搜索算法（相关度排序）
- **验证**：搜索体验流畅，结果准确

### T4.4 添加帮助内容反馈
- [x] 在帮助详情页添加"有帮助"/"无帮助"按钮
- [x] 收集用户反馈数据
- [x] 根据反馈优化内容
- **验证**：用户可对帮助内容提供反馈

## 测试与优化

### T5.1 集成测试
- [x] 测试帮助内容加载性能
- [x] 测试搜索功能准确性
- [x] 测试UI在不同屏幕尺寸下的表现
- **验证**：所有功能正常运行，无性能问题

### T5.2 内容质量审核
- [x] 检查所有帮助内容的完整性
- [x] 检查内容的准确性和一致性
- [x] 修正错别字和语法错误
- **验证**：内容质量达到发布标准

### T5.3 用户测试
- [x] 邀请用户测试帮助系统
- [x] 收集用户反馈
- [x] 根据反馈优化内容和交互
- **验证**：用户满意度达到目标（>4.0/5.0）

### T5.4 文档更新
- [x] 更新开发文档，说明如何添加新的帮助内容
- [x] 创建帮助内容编写规范文档
- [x] 更新CHANGELOG记录此次改进
- **验证**：开发者可轻松添加和维护帮助内容

## 依赖关系

- T1.1 → T1.2（数据模型必须先完成）
- T1.2 → T1.4（服务必须先完成才能在UI中使用）
- T1.3 → T1.4（assets配置必须完成）
- T1.4 → T1.5（UI框架必须完成）
- T1.1-T1.5 → T2.1-T2.7（基础架构完成后才能添加内容）
- T2.1-T2.7 → T3.1-T3.18（核心内容完成后再补充剩余内容）
- T1.1-T3.18 → T4.1-T4.4（基础功能和内容完成后再添加增强功能）
- T1.1-T4.4 → T5.1-T5.4（所有开发完成后进行测试）

## 可并行工作

- T2.2-T2.7 可由多人并行编写（内容编写任务）
- T3.1-T3.18 可由多人并行编写（内容编写任务）
- T4.1-T4.4 可与T3.1-T3.18并行进行（功能开发与内容编写分离）
