# 提案：自适应模式系统设计

> **变更ID**: design-adaptive-mode-system
> **类型**: 功能设计
> **状态**: 草案
> **日期**: 2026-01-10

## 概述

设计一套完整的自适应模式系统，让不同认知能力的用户都能顺畅使用记账应用：
- **傻瓜用户**（IQ 60-80）：界面极简，AI全程辅助
- **普通用户**（IQ 90-110）：逐步学习，按需解锁
- **高级用户**（IQ 120+）：快速解锁，完整功能

## 核心理念

### 简单模式 ≠ 功能阉割

**简单模式 = 简单界面 + 更强AI**

AI在简单模式下工作更多，而不是更少：
- 自动分类、自动填充
- 语音成为主要输入方式
- 复杂信息简化表达

### 从简单开始，按需成长

所有用户从简易模式开始，系统分析用户能力，智能推荐功能解锁，用户自主决定是否升级。

## 系统架构

### 三层模式体系

```
┌─────────────────────────────────────────────────────────┐
│                    用户界面层                            │
├─────────────────┬─────────────────┬─────────────────────┤
│   傻瓜模式       │   普通模式       │    高级模式          │
│   (Ultra-Simple) │   (Simple)      │    (Advanced)       │
├─────────────────┴─────────────────┴─────────────────────┤
│                    自适应引擎                            │
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐     │
│  │ 用户能力分析 │  │ 功能解锁推荐 │  │ 界面复杂度控制│     │
│  └─────────────┘  └─────────────┘  └─────────────┘     │
├─────────────────────────────────────────────────────────┤
│                    核心功能层                            │
│           (所有模式共享同一套业务逻辑)                    │
└─────────────────────────────────────────────────────────┘
```

### 页面结构设计

#### 傻瓜模式页面（共6个）

| 页面 | 功能 | 特点 |
|-----|------|-----|
| 首页 | 4个大按钮入口 | 余额展示 + 记账/看账/存钱/我的 |
| 记账页 | 金额输入 + 分类选择 | 数字键盘 + 8个大分类 |
| 看账页 | 本月统计 + 分类进度 | 大字体 + 进度条 |
| 存钱罐页 | 存取操作 | 进度可视化 |
| 我的页 | 设置入口 | 4-5个大菜单项 |
| 帮助页 | 语音/图文指引 | 点击即播放 |

#### 普通模式页面（在傻瓜模式基础上解锁）

| 页面 | 解锁条件 | 新增功能 |
|-----|---------|---------|
| 历史记录 | 使用3天 | 查看所有账单 |
| 分类管理 | 记录50笔 | 自定义分类 |
| 预算设置 | 使用7天 | 设置月度预算 |
| 统计报表 | 使用14天 | 月度/年度报表 |
| 账户管理 | 使用14天 | 多账户管理 |

#### 高级模式页面（快速解锁）

| 页面 | 功能 |
|-----|------|
| 趋势分析 | 消费趋势图表 |
| 目标设置 | 储蓄目标管理 |
| 智能建议 | AI财务建议 |
| 数据导出 | 多格式导出 |
| 高级筛选 | 多维度筛选 |

### 无缝切换机制

```dart
// 模式切换不丢失任何数据
// 所有模式共享同一套数据层
class ModeManager {
  // 当前模式
  UIMode currentMode;

  // 已解锁功能
  Set<String> unlockedFeatures;

  // 切换模式
  void switchMode(UIMode newMode) {
    // 1. 保存当前状态
    // 2. 切换UI层
    // 3. 保持数据层不变
  }
}
```

### 功能渐进解锁

#### 解锁机制：混合模式

1. **系统智能推荐** - 分析用户行为，推荐合适功能
2. **用户确认解锁** - 用户可以接受、延迟或拒绝
3. **手动探索货架** - 用户随时可以浏览所有功能
4. **自适应节奏** - 根据用户能力调整推荐频率

#### 用户能力评估指标

- 错误率（操作失误频率）
- 任务完成速度
- 求助次数
- 功能探索率
- 使用时长
- 连续使用天数

## 成功标准

### 定量指标

| 指标 | 目标 |
|-----|------|
| 首次使用成功率 | ≥95% |
| 傻瓜用户7日留存 | ≥80% |
| 功能解锁接受率 | ≥60% |
| 解锁后使用率 | ≥70% |
| 模式切换成功率 | 100% |

### 定性指标

- 傻瓜用户："不会感到困惑"
- 普通用户："功能刚刚好"
- 高级用户："解锁够快"

## 相关文档

- [详细设计](./design.md) - 架构和实现细节
- [任务清单](./tasks.md) - 实施步骤

## 风险与缓解

| 风险 | 缓解措施 |
|-----|---------|
| 傻瓜模式过于简单 | 语音和AI增强弥补功能缺失 |
| 模式切换困惑 | 保持数据一致，提供清晰引导 |
| 解锁推荐打扰用户 | 自适应频率，可完全关闭 |
| 实现复杂度高 | 分阶段实施，MVP先行 |
