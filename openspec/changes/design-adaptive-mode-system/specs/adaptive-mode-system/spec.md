# 自适应模式系统规范

## 新增需求

### 需求：三层模式体系

系统必须支持三种界面模式，适应不同认知能力的用户。

#### 场景：傻瓜模式使用

**前提条件：** 用户首次启动应用或选择傻瓜模式

**当** 用户进入傻瓜模式
**则** 系统必须显示4个大按钮首页（记一笔/看看账/存钱罐/我的）
**并且** 所有字体必须放大1.5倍（金额48sp，按钮22sp）
**并且** 所有按钮高度必须≥80dp
**并且** 页面层级必须最多3层
**并且** 每个操作必须有语音反馈

#### 场景：普通模式使用

**前提条件：** 用户选择普通模式或解锁足够功能

**当** 用户进入普通模式
**则** 系统必须显示扩展功能界面
**并且** 字体必须放大1.2倍
**并且** 页面层级必须最多4层
**并且** 必须显示已解锁的8-12个功能

#### 场景：高级模式使用

**前提条件：** 用户选择高级模式或为高级用户

**当** 用户进入高级模式
**则** 系统必须显示完整功能界面
**并且** 必须使用标准字体和尺寸
**并且** 所有功能必须可用

---

### 需求：模式无缝切换

用户必须可以在三种模式间自由切换，切换时数据必须完全保持一致。

#### 场景：从傻瓜模式切换到普通模式

**前提条件：** 用户当前处于傻瓜模式

**当** 用户点击"退出简单模式"
**则** 系统必须显示切换确认提示
**当** 用户确认切换
**则** 界面必须平滑过渡到普通模式（<500ms）
**并且** 所有数据必须保持不变
**并且** 已解锁功能必须可用

#### 场景：从高级模式切换到傻瓜模式

**前提条件：** 用户当前处于高级模式

**当** 用户选择"简单模式"
**则** 界面必须立即切换到傻瓜模式
**并且** 所有数据必须保持不变
**并且** 功能解锁状态必须保持不变

---

### 需求：功能渐进解锁

系统必须根据用户行为智能推荐功能解锁，用户确认后解锁新功能。

#### 场景：满足条件时推荐解锁

**前提条件：** 用户使用满7天且记录≥10笔

**当** 用户打开应用首页
**则** 系统必须显示功能推荐弹窗
**并且** 必须展示推荐功能（如"预算设置"）
**并且** 必须显示推荐理由（如"根据这周花费，建议设置预算"）
**并且** 必须提供"解锁"和"以后再说"选项

#### 场景：用户接受解锁

**前提条件：** 系统显示功能推荐弹窗

**当** 用户点击"解锁"
**则** 系统必须播放解锁成功动画
**并且** 新功能必须立即可用
**并且** 必须在功能货架中标记为"已解锁"

#### 场景：用户延迟解锁

**前提条件：** 系统显示功能推荐弹窗

**当** 用户点击"以后再说"
**则** 弹窗必须关闭
**并且** 系统必须在适当时间后（根据用户能力等级）再次推荐

#### 场景：手动浏览功能货架

**前提条件：** 用户进入"我的"页面

**当** 用户点击"功能货架"
**则** 系统必须显示所有功能列表
**并且** 必须分为"已解锁"、"推荐解锁"、"未解锁"三个区域
**并且** 未解锁功能必须显示解锁进度

---

### 需求：用户能力自动识别

系统必须通过用户行为数据自动评估用户能力等级，调整推荐策略。

#### 场景：评估用户能力

**前提条件：** 用户使用≥3天

**当** 系统收集到足够行为数据
**则** 系统必须计算用户能力分数
**其中** 分数必须基于：错误率(25%)、任务速度(20%)、求助次数(15%)、功能探索(15%)、使用时长(15%)、连续天数(10%)
**当** 分数≥70
**则** 用户必须被识别为高级用户，推荐间隔必须为3天
**当** 分数40-70
**则** 用户必须被识别为普通用户，推荐间隔必须为7天
**当** 分数<40
**则** 用户必须被识别为基础用户，推荐间隔必须为14天

---

### 需求：冷启动零配置

首次使用的用户必须无需任何配置即可开始记账。

#### 场景：首次启动

**前提条件：** 用户首次打开应用

**当** 用户完成启动引导
**则** 系统必须自动进入傻瓜模式
**并且** 禁止询问任何配置问题
**并且** 用户必须可直接点击"花钱"开始记账

#### 场景：首笔记账

**前提条件：** 用户首次点击"花钱"

**当** 用户输入金额并确认
**则** 系统必须自动分类为"其他"
**并且** 系统必须自动使用默认账户
**并且** 禁止检查预算（尚未设置）
**并且** 必须显示成功反馈

#### 场景：7天后智能配置

**前提条件：** 用户使用≥7天或记录≥10笔

**当** 用户打开应用
**则** 系统必须显示配置建议弹窗
**并且** 必须基于实际数据建议月度预算
**并且** 必须提供"就这个"、"多一点"、"少一点"选项
**并且** 用户必须可选择"以后再说"

---

### 需求：傻瓜模式防呆设计

傻瓜模式下所有操作必须有防呆保护，防止用户犯错。

#### 场景：大金额二次确认

**前提条件：** 用户在傻瓜模式记账

**当** 用户输入金额>10000元
**则** 系统必须显示确认提示"是不是多打了个0？"
**并且** 必须提供"改一下"和"没打错"选项

#### 场景：删除二次确认

**前提条件：** 用户在傻瓜模式尝试删除账单

**当** 用户点击删除
**则** 系统必须显示第一次确认"要删掉这笔账吗？"
**当** 用户确认
**则** 系统必须显示第二次确认"真的删？删了就没了哦"（红色警告）
**当** 用户再次确认
**则** 删除必须完成，底部必须显示"删错了？点这里恢复"（10秒内可撤销）

#### 场景：操作即时反馈

**前提条件：** 用户在傻瓜模式执行任何操作

**当** 操作成功
**则** 系统必须显示大对勾动画
**并且** 必须语音播报结果（如"记好了！花了35块钱吃饭"）
**并且** 必须触发轻微震动

**当** 操作失败
**则** 系统必须显示大叉号
**并且** 必须语音播报错误（如"没存上，再试一次？"）
**并且** 必须触发双震提醒
