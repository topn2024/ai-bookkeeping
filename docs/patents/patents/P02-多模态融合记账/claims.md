# 权利要求书

## 多模态融合智能记账方法及系统

### 独立权利要求

**权利要求1**：一种多模态融合智能记账方法，其特征在于，包括以下步骤：

S1. 多模态并行识别步骤：
- 同时启动语音识别（ASR）、图像识别（OCR）、文本理解（NLP）三个模态的并行处理线程；
- 每个模态独立提取记账要素（金额、类别、时间、备注），并计算置信度评分；
- 并行处理响应时间小于200ms，相比串行处理（大于400ms）效率提升50%以上；
- 语音识别采用ASR引擎提取语义，图像识别采用OCR引擎和票据解析提取信息，文本识别采用NLP引擎提取要素；

S2. 跨模态注意力融合步骤：
- 采用Transformer架构的跨模态注意力机制，将语音特征V∈R^512、图像特征I∈R^512、文本特征T∈R^512对齐到统一的512维语义空间；
- 计算跨模态注意力权重：W_vi = softmax(V·I^T / √512)，W_vt = softmax(V·T^T / √512)，W_it = softmax(I·T^T / √512)；
- 加权融合生成联合表示：F = α_v·V + α_i·I + α_t·T，其中α_v + α_i + α_t = 1；
- 融合算法复杂度O(n log n)，融合响应时间小于100ms，相比现有技术（大于500ms，O(n²)）效率提升80%以上；

S3. 置信度动态加权步骤：
- 基于历史准确率H_m、当前环境噪声N_m、识别一致性A_m三个维度动态计算每个模态的权重；
- 动态权重计算公式：W_m = 0.5·H_m + 0.3·N_m + 0.2·A_m，归一化后权重范围[0.1, 0.9]；
- 置信度评估准确率大于90%，相比现有技术（小于70%）提升20个百分点以上；
- 错误结果被采纳的概率从大于30%降低到小于10%，降低66.7%；

S4. 智能冲突解决步骤：
- 当不同模态识别结果差异大于10%时，采用多数投票+置信度加权算法自动解决冲突；
- 加权金额计算公式：加权金额 = Σ(置信度_i × 金额_i) / Σ(置信度_i)；
- 当差异大于30%时，展示所有结果供用户选择；
- 冲突解决准确率大于85%，记账错误率从大于40%降低到小于15%，降低62.5%；

S5. 增量学习优化步骤：
- 从用户纠正中学习，动态调整各模态权重和融合参数，学习率α=0.01；
- 经过100次纠正后，识别准确率提升大于5%，相比现有技术（无学习能力）提升5个百分点。

**权利要求2**：一种多模态融合智能记账系统，其特征在于，包括：

多模态并行处理引擎：用于同时启动ASR语音识别、OCR图像识别和NLP文本理解三个模态的并行处理，并行处理响应时间小于200ms；

跨模态注意力融合模块：用于采用Transformer架构将三种模态的特征向量对齐到统一的512维语义空间，计算跨模态注意力权重，融合响应时间小于100ms，计算复杂度O(n log n)；

置信度动态加权模块：用于基于历史准确率、环境噪声、识别一致性三个维度动态计算权重，置信度评估准确率大于90%；

智能冲突解决模块：用于采用多数投票+置信度加权算法自动解决模态冲突，冲突解决准确率大于85%。

### 从属权利要求

**权利要求3**：根据权利要求1所述的方法，其特征在于，所述跨模态注意力融合步骤的具体实现为：

- 计算Query矩阵Q = V·W_q，Key矩阵K = I·W_k，Value矩阵V_att = I·W_v；
- 计算注意力权重A = softmax(Q·K^T / √512)；
- 加权融合F = A·V_att；
- 通过Decoder解码生成最终记账要素{金额, 类别, 时间, 备注}。

**权利要求4**：根据权利要求1所述的方法，其特征在于，所述置信度动态加权步骤的具体实现为：

- 历史准确率H_m = 历史正确次数 / 历史总次数；
- 环境噪声N_m = 1 - 当前噪声水平，在嘈杂环境（噪声大于70dB）下语音模态权重降低；
- 识别一致性A_m = 与其他模态的一致性得分，当多个模态识别结果一致时权重增加；
- 动态权重W_m = 0.5·H_m + 0.3·N_m + 0.2·A_m，归一化后确保Σ(W_m) = 1。

**权利要求5**：根据权利要求1所述的方法，其特征在于，所述图像识别步骤还包括票据解析：

- 识别票据类型：发票、小票、转账截图；
- 定位关键区域：金额区、商户区、时间区；
- 采用OCR引擎提取结构化数据，识别准确率大于92%；
- 在模糊票据场景下准确率大于85%，相比单模态OCR（小于65%）提升20个百分点以上。

**权利要求6**：根据权利要求1所述的方法，其特征在于，所述增量学习优化步骤的具体实现为：

- 记录用户对识别结果的修改，包括原始输入、系统识别、用户纠正、纠正时间；
- 采用在线学习算法更新模型参数：W_new = W_old + α·∇L，其中L = CrossEntropy(预测, 真实)，学习率α=0.01；
- 调整分类权重，增加正确分类的权重，减少错误分类的权重；
- 经过100次用户纠正后，识别准确率提升大于5%。

**权利要求7**：根据权利要求1所述的方法，其特征在于，所述智能冲突解决步骤的判定规则为：

- 计算差异百分比：差异 = |金额_1 - 金额_2| / min(金额_1, 金额_2)；
- 当差异小于10%时，判定为小冲突，采用置信度加权自动解决；
- 当差异在10%-30%之间时，判定为中冲突，选择最高置信度结果；
- 当差异大于30%时，判定为大冲突，展示所有结果供用户选择。

**权利要求8**：根据权利要求1所述的方法，其特征在于，还包括特征对齐步骤：

- 将不同模态的特征向量通过线性变换对齐到统一的512维语义空间；
- 特征对齐准确率大于90%，相比现有技术（小于75%）提升15个百分点以上；
- 融合后整体识别准确率提升大于17%，相比现有技术（小于10%）提升7个百分点。

**权利要求9**：根据权利要求2所述的系统，其特征在于，支持同时输入多种模态：

- 用户可以同时拍照和语音说明，系统自动融合多模态信息；
- 整体识别准确率大于92%，相比单模态（小于75%）提升17个百分点以上；
- 在嘈杂环境下准确率大于85%，相比单模态语音识别（小于70%）提升15个百分点以上。

**权利要求10**：根据权利要求2所述的系统，其特征在于，还包括：

一种计算机可读存储介质，其上存储有计算机程序，所述程序被处理器执行时实现权利要求1所述的多模态融合智能记账方法。

**权利要求11**：根据权利要求2所述的系统，其特征在于，还包括：

一种电子设备，包括处理器和存储器，所述存储器存储的程序被处理器执行时实现权利要求1所述的多模态融合智能记账方法，所述电子设备为移动终端设备，包括智能手机、平板电脑或智能手表。
