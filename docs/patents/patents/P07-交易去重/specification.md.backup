# 多因子交易去重方法

## 技术领域

[0001] 本发明涉及数据处理和财务管理技术领域，具体涉及一种基于多因子评分模型的交易去重方法及系统。

## 背景技术

[0002] 在个人财务管理中，用户可能通过多种渠道导入交易记录（银行账单、支付宝、微信等），这可能导致同一笔交易被重复记录。

[0003] 现有技术的不足之处在于：
1. 简单的金额时间匹配容易误判
2. 不同来源的交易描述格式不统一
3. 缺乏智能的相似度评估机制

## 发明内容

### 技术问题

[0004] 本发明要解决的技术问题是：如何准确识别和处理来自不同来源的重复交易记录。

### 技术方案

[0005] 为解决上述技术问题，本发明提供一种多因子交易去重方法，包括以下步骤：

[0006] S1：提取待检测交易的特征向量（金额、时间、商户、类别、描述、来源）；

[0007] S2：使用六因子评分模型计算与历史交易的相似度；

[0008] S3：基于阈值判断是否为重复交易；

[0009] S4：对疑似重复交易进行智能合并或提示用户确认。

### 有益效果

[0010] 与现有技术相比，本发明具有以下有益效果：

[0011] 1. 多因子评分提高去重准确率；

[0012] 2. 支持不同来源交易的智能匹配；

[0013] 3. 可配置的阈值适应不同场景。

## 附图说明

[0014] 图1为多因子去重系统架构图；

![图1-系统架构图](figures/fig-01-system-architecture.svg)

[0015] 图2为六因子评分算法流程图；

![图2-算法流程图](figures/fig-02-algorithm-flow.svg)

[0016] 图3为特征向量数据结构图；

![图3-数据结构图](figures/fig-03-data-structure.svg)

[0017] 图4为去重处理时序图。

![图4-时序图](figures/fig-04-sequence.svg)

## 具体实施方式

[0018] 下面结合附图和具体实施例对本发明作进一步详细说明。

### 实施例一：六因子评分模型

[0019] 如图1所示，本实施例的六因子评分模型包括：
- 金额因子：金额差异百分比评分
- 时间因子：时间间隔评分
- 商户因子：商户名称相似度评分
- 类别因子：消费类别匹配评分
- 描述因子：交易描述相似度评分
- 来源因子：数据来源关联性评分

[0020] 各因子权重可配置：
- 金额因子：权重0.25
- 时间因子：权重0.20
- 商户因子：权重0.20
- 类别因子：权重0.15
- 描述因子：权重0.10
- 来源因子：权重0.10

### 实施例二：相似度计算流程

[0021] 如图2所示，相似度计算流程如下：
1. 提取新交易的六维特征向量
2. 在历史交易库中检索候选匹配
3. 计算各因子得分
4. 加权求和得到总相似度
5. 与阈值比较判断是否重复

## 技术效果

[0022] 本发明的多因子去重方法具有以下技术效果：
- 通过多因子综合评分，显著提高重复交易识别准确率
- 有效降低误判率，减少用户手动处理
- 处理速度满足实时需求
