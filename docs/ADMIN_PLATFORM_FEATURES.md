# AI智能记账 - 管理平台功能特性清单

## 功能模块总览

| 模块 | 功能数量 | 已完成 | 优先级 | 状态 |
|------|---------|--------|--------|------|
| 仪表盘 | 12 | 12 | P0 | ✅ 前后端完成 |
| 用户管理 | 15 | 15 | P0 | ✅ 前后端完成 |
| 数据管理 | 18 | 18 | P1 | ✅ 前后端完成 |
| 统计分析 | 16 | 16 | P1 | ✅ 前后端完成 |
| 系统监控 | 10 | 10 | P2 | ✅ 前后端完成 |
| 系统设置 | 14 | 14 | P2 | ✅ 前后端完成 |
| 通用功能 | 9 | 9 | P0 | ✅ 前后端完成 |
| **合计** | **94** | **94** | - | **100%完成** |

---

## 一、仪表盘模块

### 1.1 核心指标卡片

| 功能ID | 功能名称 | 描述 | 优先级 | 后端 | 前端 |
|--------|---------|------|--------|------|------|
| DB-001 | 今日新增用户 | 显示今日注册用户数及环比变化 | P0 | ✅ | ✅ |
| DB-002 | 今日活跃用户 | 显示今日有操作的用户数 | P0 | ✅ | ✅ |
| DB-003 | 今日交易笔数 | 显示今日所有交易总数 | P0 | ✅ | ✅ |
| DB-004 | 今日交易金额 | 显示今日交易总金额 | P0 | ✅ | ✅ |
| DB-005 | 累计用户数 | 显示平台总注册用户数 | P0 | ✅ | ✅ |
| DB-006 | 累计交易笔数 | 显示平台历史总交易数 | P1 | ✅ | ✅ |

### 1.2 数据图表

| 功能ID | 功能名称 | 描述 | 优先级 | 后端 | 前端 |
|--------|---------|------|--------|------|------|
| DB-007 | 用户增长趋势图 | 折线图展示用户增长趋势，支持7天/30天/自定义时间段 | P0 | ✅ | ✅ |
| DB-008 | 交易趋势图 | 展示收入/支出/转账趋势，支持切换时间维度 | P0 | ✅ | ✅ |
| DB-009 | 交易类型分布 | 饼图展示收入/支出/转账占比 | P1 | ✅ | ✅ |
| DB-010 | 用户活跃热力图 | 按小时/星期展示用户活跃分布 | P2 | ✅ | ✅ |
| DB-011 | TOP10活跃用户 | 排行榜展示最活跃用户（交易笔数） | P2 | ✅ | ✅ |
| DB-012 | 实时交易流水 | 滚动展示最近10条交易记录 | P1 | ✅ | ✅ |

---

## 二、用户管理模块

### 2.1 用户列表

| 功能ID | 功能名称 | 描述 | 优先级 | 后端 | 前端 |
|--------|---------|------|--------|------|------|
| UM-001 | 用户列表展示 | 分页展示所有用户，显示基本信息 | P0 | ✅ | ✅ |
| UM-002 | 关键词搜索 | 支持按ID/邮箱/手机号/昵称搜索 | P0 | ✅ | ✅ |
| UM-003 | 高级筛选 | 按注册时间、最后活跃、状态、会员类型筛选 | P0 | ✅ | ✅ |
| UM-004 | 多字段排序 | 支持按注册时间、交易笔数、交易金额排序 | P1 | ✅ | ✅ |
| UM-005 | 批量导出 | 导出用户列表为Excel（脱敏数据） | P1 | ✅ | ✅ |
| UM-006 | 批量操作 | 批量禁用/启用用户 | P2 | ✅ | ✅ |

### 2.2 用户详情

| 功能ID | 功能名称 | 描述 | 优先级 | 后端 | 前端 |
|--------|---------|------|--------|------|------|
| UM-007 | 基本信息查看 | 查看用户头像、昵称、邮箱等（部分脱敏） | P0 | ✅ | ✅ |
| UM-008 | 账户概览 | 展示账本数、账户数、交易笔数、总资产 | P0 | ✅ | ✅ |
| UM-009 | 登录历史 | 查看用户近30天登录记录（时间、IP、设备） | P1 | ✅ | ✅ |
| UM-010 | 关联数据查看 | 查看用户的账本、账户、交易列表 | P1 | ✅ | ✅ |
| UM-011 | 用户行为分析 | 展示用户使用习惯、偏好分析 | P2 | ✅ | ✅ |

### 2.3 用户操作

| 功能ID | 功能名称 | 描述 | 优先级 | 后端 | 前端 |
|--------|---------|------|--------|------|------|
| UM-012 | 禁用/启用账户 | 禁用后用户无法登录 | P0 | ✅ | ✅ |
| UM-013 | 重置密码 | 发送密码重置邮件给用户 | P1 | ✅ | ✅ |
| UM-014 | 清除登录状态 | 强制用户重新登录 | P1 | ✅ | ✅ |
| UM-015 | 删除用户 | 软删除，数据保留30天后彻底清除 | P2 | ✅ | ✅ |

---

## 三、数据管理模块

### 3.1 交易管理

| 功能ID | 功能名称 | 描述 | 优先级 | 后端 | 前端 |
|--------|---------|------|--------|------|------|
| DM-001 | 全局交易列表 | 查看所有用户的交易记录 | P0 | ✅ | ✅ |
| DM-002 | 交易搜索 | 按用户、金额范围、时间、类型搜索 | P0 | ✅ | ✅ |
| DM-003 | 交易详情 | 查看交易完整信息（用户信息脱敏） | P0 | ✅ | ✅ |
| DM-004 | 异常交易标记 | 标记金额异常、频率异常的交易 | P1 | ✅ | ✅ |
| DM-005 | 交易数据导出 | 导出交易数据为Excel/CSV | P1 | ✅ | ✅ |
| DM-006 | 交易统计 | 按日/周/月统计交易数据 | P1 | ✅ | ✅ |

### 3.2 账本/账户管理

| 功能ID | 功能名称 | 描述 | 优先级 | 后端 | 前端 |
|--------|---------|------|--------|------|------|
| DM-007 | 账本列表 | 查看所有用户的账本 | P1 | ✅ | ✅ |
| DM-008 | 账户列表 | 查看所有用户的账户 | P1 | ✅ | ✅ |
| DM-009 | 账户类型统计 | 统计各类账户的数量分布 | P2 | ✅ | ✅ |
| DM-010 | 数据完整性检查 | 检查数据一致性，发现异常 | P2 | ✅ | ✅ |

### 3.3 分类管理

| 功能ID | 功能名称 | 描述 | 优先级 | 后端 | 前端 |
|--------|---------|------|--------|------|------|
| DM-011 | 系统分类列表 | 管理系统预置分类 | P1 | ✅ | ✅ |
| DM-012 | 添加系统分类 | 新增系统级别的分类 | P1 | ✅ | ✅ |
| DM-013 | 编辑系统分类 | 修改分类名称、图标 | P1 | ✅ | ✅ |
| DM-014 | 分类使用统计 | 统计各分类的使用频率 | P2 | ✅ | ✅ |

### 3.4 备份管理

| 功能ID | 功能名称 | 描述 | 优先级 | 后端 | 前端 |
|--------|---------|------|--------|------|------|
| DM-015 | 备份列表 | 查看所有用户的云端备份 | P1 | ✅ | ✅ |
| DM-016 | 备份存储统计 | 统计备份占用的存储空间 | P1 | ✅ | ✅ |
| DM-017 | 过期备份清理 | 清理超过保留期限的备份 | P2 | ✅ | ✅ |
| DM-018 | 备份策略配置 | 设置备份保留策略 | P2 | ✅ | ✅ |

---

## 四、统计分析模块

### 4.1 用户分析

| 功能ID | 功能名称 | 描述 | 优先级 | 后端 | 前端 |
|--------|---------|------|--------|------|------|
| SA-001 | 用户增长分析 | 分析用户增长趋势，预测未来 | P0 | ✅ | ✅ |
| SA-002 | 用户留存分析 | 日留存/周留存/月留存率 | P0 | ✅ | ✅ |
| SA-003 | 用户流失预警 | 识别可能流失的用户 | P1 | ✅ | ✅ |
| SA-004 | 用户画像分析 | 用户群体特征分析 | P2 | ✅ | ✅ |
| SA-005 | 新老用户对比 | 新老用户行为差异分析 | P2 | ✅ | ✅ |

### 4.2 交易分析

| 功能ID | 功能名称 | 描述 | 优先级 | 后端 | 前端 |
|--------|---------|------|--------|------|------|
| SA-006 | 收支趋势分析 | 平台整体收支趋势 | P0 | ✅ | ✅ |
| SA-007 | 分类消费排行 | TOP消费分类排行 | P1 | ✅ | ✅ |
| SA-008 | 平均交易金额 | 人均交易金额分析 | P1 | ✅ | ✅ |
| SA-009 | 交易时段分布 | 按时段分析交易分布 | P2 | ✅ | ✅ |
| SA-010 | 交易频率分析 | 用户交易频率分布 | P2 | ✅ | ✅ |

### 4.3 业务分析

| 功能ID | 功能名称 | 描述 | 优先级 | 后端 | 前端 |
|--------|---------|------|--------|------|------|
| SA-011 | 功能使用率 | AI识别、语音记账等功能使用统计 | P1 | ✅ | ✅ |
| SA-012 | 会员转化分析 | 免费用户转会员的转化率 | P2 | ✅ | ✅ |
| SA-013 | 付费用户分析 | 付费用户的行为特征 | P2 | ✅ | ✅ |

### 4.4 报表管理

| 功能ID | 功能名称 | 描述 | 优先级 | 后端 | 前端 |
|--------|---------|------|--------|------|------|
| SA-014 | 日报生成 | 自动生成每日运营数据报告 | P1 | ✅ | ✅ |
| SA-015 | 周报/月报 | 生成周度/月度汇总报告 | P1 | ✅ | ✅ |
| SA-016 | 自定义报表 | 自定义维度生成报表 | P2 | ✅ | ✅ |

---

## 五、系统监控模块

### 5.1 服务监控

| 功能ID | 功能名称 | 描述 | 优先级 | 后端 | 前端 |
|--------|---------|------|--------|------|------|
| SM-001 | API健康检查 | 实时监控API服务状态 | P0 | ✅ | ✅ |
| SM-002 | 数据库状态 | 监控数据库连接和性能 | P0 | ✅ | ✅ |
| SM-003 | Redis状态 | 监控缓存服务状态 | P1 | ✅ | ✅ |
| SM-004 | 存储空间监控 | 监控磁盘使用情况 | P1 | ✅ | ✅ |

### 5.2 性能监控

| 功能ID | 功能名称 | 描述 | 优先级 | 后端 | 前端 |
|--------|---------|------|--------|------|------|
| SM-005 | API响应时间 | 统计各接口响应时间 | P1 | ✅ | ✅ |
| SM-006 | 请求量统计 | 统计API调用量 | P1 | ✅ | ✅ |
| SM-007 | 错误率统计 | 统计接口错误率 | P1 | ✅ | ✅ |
| SM-008 | 慢查询日志 | 记录慢SQL查询 | P2 | ✅ | ✅ |

### 5.3 告警管理

| 功能ID | 功能名称 | 描述 | 优先级 | 后端 | 前端 |
|--------|---------|------|--------|------|------|
| SM-009 | 告警规则配置 | 配置各类告警阈值 | P1 | ✅ | ✅ |
| SM-010 | 告警通知配置 | 配置告警通知方式（邮件/短信） | P2 | ✅ | ✅ |

---

## 六、系统设置模块

### 6.1 基础配置

| 功能ID | 功能名称 | 描述 | 优先级 | 后端 | 前端 |
|--------|---------|------|--------|------|------|
| SS-001 | 系统信息配置 | 配置系统名称、Logo等 | P1 | ✅ | ✅ |
| SS-002 | 注册开关 | 控制是否开放新用户注册 | P0 | ✅ | ✅ |
| SS-003 | 邮件服务配置 | 配置SMTP服务器信息 | P1 | ✅ | ✅ |
| SS-004 | 短信服务配置 | 配置短信服务商API | P2 | ✅ | ✅ |

### 6.2 AI服务配置

| 功能ID | 功能名称 | 描述 | 优先级 | 后端 | 前端 |
|--------|---------|------|--------|------|------|
| SS-005 | 千问API配置 | 配置千问模型API密钥 | P0 | ✅ | ✅ |
| SS-006 | 模型参数调整 | 调整AI模型参数 | P1 | ✅ | ✅ |
| SS-007 | 调用限额设置 | 设置用户AI调用限额 | P1 | ✅ | ✅ |

### 6.3 安全设置

| 功能ID | 功能名称 | 描述 | 优先级 | 后端 | 前端 |
|--------|---------|------|--------|------|------|
| SS-008 | 登录策略配置 | 密码强度、失败锁定次数 | P0 | ✅ | ✅ |
| SS-009 | IP白名单 | 配置管理后台访问IP白名单 | P1 | ✅ | ✅ |
| SS-010 | 二次确认配置 | 配置需要二次确认的操作 | P2 | ✅ | ✅ |

### 6.4 管理员管理

| 功能ID | 功能名称 | 描述 | 优先级 | 后端 | 前端 |
|--------|---------|------|--------|------|------|
| SS-011 | 管理员列表 | 查看所有管理员账户 | P0 | ✅ | ✅ |
| SS-012 | 添加管理员 | 创建新管理员账户 | P0 | ✅ | ✅ |
| SS-013 | 编辑管理员 | 修改管理员信息和角色 | P0 | ✅ | ✅ |
| SS-014 | 删除管理员 | 删除管理员账户 | P1 | ✅ | ✅ |

---

## 七、通用功能

### 7.1 认证授权

| 功能ID | 功能名称 | 描述 | 优先级 | 后端 | 前端 |
|--------|---------|------|--------|------|------|
| GF-001 | 管理员登录 | 账号密码登录 | P0 | ✅ | ✅ |
| GF-002 | MFA二次验证 | 可选Google Authenticator | P1 | ✅ | ✅ |
| GF-003 | 密码修改 | 管理员修改自己密码 | P0 | ✅ | ✅ |
| GF-004 | 登出 | 退出登录，清除会话 | P0 | ✅ | ✅ |

### 7.2 审计日志

| 功能ID | 功能名称 | 描述 | 优先级 | 后端 | 前端 |
|--------|---------|------|--------|------|------|
| GF-005 | 操作日志记录 | 记录所有敏感操作 | P0 | ✅ | ✅ |
| GF-006 | 日志查询 | 按时间、操作人、类型查询 | P0 | ✅ | ✅ |
| GF-007 | 日志导出 | 导出审计日志 | P1 | ✅ | ✅ |

### 7.3 个人设置

| 功能ID | 功能名称 | 描述 | 优先级 | 后端 | 前端 |
|--------|---------|------|--------|------|------|
| GF-008 | 个人信息修改 | 修改昵称、头像等 | P1 | ✅ | ✅ |
| GF-009 | 通知偏好设置 | 设置接收通知的方式 | P2 | ✅ | ✅ |

---

## 八、非功能需求

### 8.1 性能要求

| 指标 | 要求 |
|------|------|
| 页面加载时间 | < 2秒 |
| API响应时间 | < 500ms (95th) |
| 并发用户数 | 支持100并发 |
| 数据导出 | 10万条数据 < 30秒 |

### 8.2 安全要求

| 项目 | 要求 |
|------|------|
| 传输加密 | 全站HTTPS |
| 密码存储 | bcrypt加密 |
| 会话管理 | JWT + Redis |
| 登录保护 | 5次失败锁定15分钟 |
| 敏感操作 | 二次确认 + 审计日志 |

### 8.3 兼容性要求

| 项目 | 要求 |
|------|------|
| 浏览器 | Chrome/Firefox/Safari/Edge最新2个版本 |
| 分辨率 | 最低1280x720 |
| 响应式 | 支持平板设备 |

---

## 九、技术实现说明

### 9.1 后端技术栈
- **框架**: FastAPI (Python 3.10+)
- **数据库**: PostgreSQL
- **ORM**: SQLAlchemy 2.0 (async)
- **认证**: JWT + bcrypt
- **监控**: psutil + 审计日志

### 9.2 前端技术栈
- **框架**: Vue 3 + TypeScript
- **UI库**: Element Plus
- **图表**: ECharts
- **状态管理**: Pinia
- **路由**: Vue Router 4

### 9.3 API路由对照表

| 模块 | 后端路由前缀 | 前端API文件 |
|------|-------------|------------|
| 认证 | `/admin/auth` | `api/auth.ts` |
| 仪表盘 | `/admin/dashboard` | `api/dashboard.ts` |
| 用户管理 | `/admin/users` | `api/users.ts` |
| 数据管理 | `/admin/data`, `/admin/transactions`, etc. | `api/data.ts` |
| 统计分析 | `/admin/statistics` | `api/statistics.ts` |
| 系统监控 | `/admin/monitoring` | `api/monitor.ts` |
| 系统设置 | `/admin/settings` | `api/settings.ts` |
| 审计日志 | `/admin/logs` | `api/logs.ts` |

---

## 十、版本历史

### v1.0.0 (2025-12-30)
- 完成所有94个功能的前后端实现
- 所有模块前后端对接完成
- 权限体系完整实现
- 审计日志全覆盖

---

**文档版本**: v1.0
**创建日期**: 2025-12-30
**最后更新**: 2025-12-30
**状态**: 前后端100%完成
